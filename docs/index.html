<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDB: Stateless File-Based SQL Engine</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .nav {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            padding: 1rem 0;
            flex-wrap: wrap;
        }
        
        .nav li {
            margin: 0 1rem;
        }
        
        .nav a {
            text-decoration: none;
            color: #667eea;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .nav a:hover {
            background: #667eea;
            color: white;
        }
        
        .section {
            padding: 4rem 0;
            background: white;
            margin: 2rem 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: #667eea;
            text-align: center;
        }
        
        .section h3 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem 0;
            color: #764ba2;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .feature {
            padding: 2rem;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .feature h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #667eea;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .stat {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 10px;
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .code-example {
            background: #2d3748;
            border-radius: 10px;
            margin: 2rem 0;
            overflow: hidden;
        }
        
        .code-example pre {
            margin: 0;
            padding: 2rem;
        }
        
        .function-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .function-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .function-name {
            font-weight: bold;
            color: #667eea;
            font-family: monospace;
        }
        
        .function-desc {
            font-size: 0.9rem;
            color: #666;
            margin-top: 0.5rem;
        }
        
        .footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 3rem 0;
            margin-top: 4rem;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>DDB</h1>
            <p>High-Performance Stateless SQL Engine for Text Files</p>
        </div>
    </header>

    <nav class="nav">
        <div class="container">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#functions">SQL Functions</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#performance">Performance</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="functions.html">Functions Reference</a></li>
                <li><a href="examples.html">More Examples</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <section id="overview" class="section">
            <div class="container">
                <h2>Overview</h2>
                <p style="font-size: 1.2rem; text-align: center; margin-bottom: 3rem;">
                    DDB is a powerful, stateless SQL engine that allows you to run complex queries against text files 
                    without loading everything into memory. Built in Go with configurable parallel processing.
                </p>
                
                <div class="stats">
                    <div class="stat">
                        <span class="stat-number">30+</span>
                        <span class="stat-label">SQL Functions</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">44</span>
                        <span class="stat-label">Passing Tests</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">4</span>
                        <span class="stat-label">File Formats</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">0</span>
                        <span class="stat-label">Memory Footprint*</span>
                    </div>
                </div>
                <p style="text-align: center; font-size: 0.9rem; color: #666;">
                    *Constant memory usage regardless of file size
                </p>
            </div>
        </section>

        <section id="features" class="section">
            <div class="container">
                <h2>Key Features</h2>
                <div class="features">
                    <div class="feature">
                        <h4>üöÄ Stateless Design</h4>
                        <p>No server, no persistent storage. Each query runs fresh with configurable parallel processing.</p>
                    </div>
                    <div class="feature">
                        <h4>üíæ Memory Efficient</h4>
                        <p>Streams data in chunks, never loads entire files into memory. Handle GB+ files with ease.</p>
                    </div>
                    <div class="feature">
                        <h4>‚ö° Parallel Processing</h4>
                        <p>Configurable multi-threading for large file processing with automatic CPU detection.</p>
                    </div>
                    <div class="feature">
                        <h4>üìÅ Multiple Formats</h4>
                        <p>Support for CSV, JSON, JSON Lines, YAML, and Parquet files with flexible configuration.</p>
                    </div>
                    <div class="feature">
                        <h4>üîç Full SQL Support</h4>
                        <p>MySQL-compatible syntax with SELECT, JOIN, WHERE, GROUP BY, ORDER BY, LIMIT.</p>
                    </div>
                    <div class="feature">
                        <h4>üßÆ Rich Functions</h4>
                        <p>30+ built-in SQL functions for string manipulation, math operations, and date handling.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="functions" class="section">
            <div class="container">
                <h2>SQL Functions</h2>
                
                <h3>String Functions</h3>
                <div class="function-grid">
                    <div class="function-item">
                        <div class="function-name">UPPER(str)</div>
                        <div class="function-desc">Convert string to uppercase</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">LOWER(str)</div>
                        <div class="function-desc">Convert string to lowercase</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">LENGTH(str)</div>
                        <div class="function-desc">Get string length</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">SUBSTR(str, start, len)</div>
                        <div class="function-desc">Extract substring (1-based indexing)</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">CONCAT(str1, str2, ...)</div>
                        <div class="function-desc">Concatenate multiple strings</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">TRIM(str)</div>
                        <div class="function-desc">Remove leading/trailing whitespace</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">LEFT(str, n)</div>
                        <div class="function-desc">Get leftmost n characters</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">RIGHT(str, n)</div>
                        <div class="function-desc">Get rightmost n characters</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">REPLACE(str, old, new)</div>
                        <div class="function-desc">Replace all occurrences</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">REVERSE(str)</div>
                        <div class="function-desc">Reverse string characters</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">REPEAT(str, n)</div>
                        <div class="function-desc">Repeat string n times</div>
                    </div>
                </div>

                <h3>Math Functions</h3>
                <div class="function-grid">
                    <div class="function-item">
                        <div class="function-name">ABS(num)</div>
                        <div class="function-desc">Absolute value</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">ROUND(num, precision)</div>
                        <div class="function-desc">Round to specified precision</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">FLOOR(num)</div>
                        <div class="function-desc">Round down to integer</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">CEIL(num)</div>
                        <div class="function-desc">Round up to integer</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">MOD(a, b)</div>
                        <div class="function-desc">Modulo operation</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">POWER(base, exp)</div>
                        <div class="function-desc">Exponentiation</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">SQRT(num)</div>
                        <div class="function-desc">Square root</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">SIGN(num)</div>
                        <div class="function-desc">Sign of number (-1, 0, 1)</div>
                    </div>
                </div>

                <h3>Date/Time Functions</h3>
                <div class="function-grid">
                    <div class="function-item">
                        <div class="function-name">NOW()</div>
                        <div class="function-desc">Current timestamp</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">DATE()</div>
                        <div class="function-desc">Current date</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">YEAR(date)</div>
                        <div class="function-desc">Extract year from date</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">MONTH(date)</div>
                        <div class="function-desc">Extract month from date</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">DAY(date)</div>
                        <div class="function-desc">Extract day from date</div>
                    </div>
                </div>

                <h3>Utility Functions</h3>
                <div class="function-grid">
                    <div class="function-item">
                        <div class="function-name">COALESCE(val1, val2, ...)</div>
                        <div class="function-desc">Return first non-null value</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">ISNULL(val, default)</div>
                        <div class="function-desc">Return default if value is null</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="examples" class="section">
            <div class="container">
                <h2>SQL Examples</h2>
                
                <h3>Basic Queries</h3>
                <div class="code-example">
                    <pre><code class="language-sql"># Basic SELECT with filtering
ddb query "SELECT name, email FROM users WHERE age > 25" \
    --file users:/data/users.csv

# JOIN multiple files
ddb query "SELECT u.name, o.total FROM users u 
    JOIN orders o ON u.id = o.user_id 
    WHERE o.total > 100" \
    --file users:/data/users.csv \
    --file orders:/data/orders.csv</code></pre>
                </div>

                <h3>Advanced Functions</h3>
                <div class="code-example">
                    <pre><code class="language-sql"># String manipulation
ddb query "SELECT 
    UPPER(first_name) AS name,
    CONCAT(first_name, ' ', last_name) AS full_name,
    LENGTH(email) AS email_length
    FROM employees 
    WHERE first_name LIKE 'J%'" \
    --file employees:/data/employees.csv

# Math operations
ddb query "SELECT 
    salary,
    ROUND(salary * 1.1, 2) AS with_raise,
    ABS(salary - 75000) AS diff_from_avg
    FROM employees" \
    --file employees:/data/employees.csv</code></pre>
                </div>

                <h3>Pattern Matching</h3>
                <div class="code-example">
                    <pre><code class="language-sql"># LIKE patterns with wildcards
ddb query "SELECT name FROM products 
    WHERE name LIKE '%laptop%' 
    OR name LIKE 'phone_%'" \
    --file products:/data/products.json

# NULL handling
ddb query "SELECT name, 
    COALESCE(manager_id, 'No Manager') AS manager
    FROM employees 
    WHERE department_id IS NOT NULL" \
    --file employees:/data/employees.csv</code></pre>
                </div>

                <h3>Complex Aggregations</h3>
                <div class="code-example">
                    <pre><code class="language-sql"># GROUP BY with functions
ddb query "SELECT 
    department_name,
    COUNT(*) AS employee_count
    FROM employees e
    JOIN departments d ON e.department_id = d.department_id
    WHERE UPPER(d.department_name) LIKE '%ENG%'
    GROUP BY department_name
    ORDER BY employee_count DESC" \
    --file employees:/data/employees.csv \
    --file departments:/data/departments.csv</code></pre>
                </div>
            </div>
        </section>

        <section id="performance" class="section">
            <div class="container">
                <h2>Performance Features</h2>
                
                <h3>Memory Management</h3>
                <div class="features">
                    <div class="feature">
                        <h4>üîÑ Streaming Processing</h4>
                        <p>Files processed in configurable chunks, never loading entire files into memory.</p>
                    </div>
                    <div class="feature">
                        <h4>‚ö° Parallel Workers</h4>
                        <p>Configurable worker threads with automatic CPU detection for optimal performance.</p>
                    </div>
                    <div class="feature">
                        <h4>üìä Smart Buffering</h4>
                        <p>Intelligent chunk buffering to balance memory usage and processing speed.</p>
                    </div>
                </div>

                <h3>Configuration Options</h3>
                <div class="code-example">
                    <pre><code class="language-yaml"># Performance tuning
parallel_reading: true
worker_threads: 0        # Auto-detect CPU cores
chunk_size: 5000        # Rows per chunk (larger for big files)
buffer_size: 200        # Chunk buffer size</code></pre>
                </div>

                <h3>Recommended Settings</h3>
                <div class="function-grid">
                    <div class="function-item">
                        <div class="function-name">Small Files (&lt; 100MB)</div>
                        <div class="function-desc">single-threaded, chunk_size: 1000</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">Large Files (100MB - 1GB)</div>
                        <div class="function-desc">2-4 workers, chunk_size: 2000</div>
                    </div>
                    <div class="function-item">
                        <div class="function-name">Huge Files (&gt; 1GB)</div>
                        <div class="function-desc">CPU cores workers, chunk_size: 5000+</div>
                    </div>
                </div>

                <h3>Performance Metrics</h3>
                <div class="stats">
                    <div class="stat">
                        <span class="stat-number">44/44</span>
                        <span class="stat-label">Tests Passing</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">100%</span>
                        <span class="stat-label">Test Coverage</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">~100MB</span>
                        <span class="stat-label">Max Memory Usage</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">30+</span>
                        <span class="stat-label">SQL Functions</span>
                    </div>
                </div>

                <h3>Tested Capabilities</h3>
                <div class="features">
                    <div class="feature">
                        <h4>‚úÖ Pattern Matching</h4>
                        <p>LIKE with % and _ wildcards, IS NULL/IS NOT NULL, IN/NOT IN expressions</p>
                    </div>
                    <div class="feature">
                        <h4>‚úÖ Complex Expressions</h4>
                        <p>Functions in WHERE, JOIN, and SELECT clauses with aliases and nesting</p>
                    </div>
                    <div class="feature">
                        <h4>‚úÖ All Data Types</h4>
                        <p>String, numeric, date/time operations with type conversion</p>
                    </div>
                    <div class="feature">
                        <h4>‚úÖ Multi-Format</h4>
                        <p>CSV, JSON, JSONL, YAML, Parquet with custom delimiters and configurations</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="installation" class="section">
            <div class="container">
                <h2>Installation & Usage</h2>
                
                <h3>Quick Start</h3>
                <div class="code-example">
                    <pre><code class="language-bash"># Clone the repository
git clone https://github.com/yourusername/ddb.git
cd ddb

# Build the binary
go build -o ddb .

# Run a simple query
./ddb query "SELECT * FROM mydata LIMIT 5" \
    --file mydata:/path/to/data.csv</code></pre>
                </div>

                <h3>Configuration Files</h3>
                <div class="code-example">
                    <pre><code class="language-yaml"># table-config.yaml
name: "employees"
file_path: "/data/employees.csv"
format: "csv"
delimiter: ","
has_header: true
columns:
  - name: "id"
    type: "int"
    index: 0
    required: true
  - name: "name"
    type: "string"
    index: 1
    required: true</code></pre>
                </div>

                <h3>Output Formats</h3>
                <div class="code-example">
                    <pre><code class="language-bash"># Export to different formats
ddb query "SELECT * FROM users" \
    --config-dir ./configs \
    --output json \
    --export results.json

# Supported formats: table, csv, json, jsonl, yaml</code></pre>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 DDB. Built with Go for high-performance file processing.</p>
            <p>Stateless ‚Ä¢ Memory Efficient ‚Ä¢ SQL Compatible</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
        
        // Add active state to navigation
        window.addEventListener('scroll', () => {
            let current = '';
            const sections = document.querySelectorAll('section');
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });
            
            document.querySelectorAll('.nav a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>